@page "/MaintenancesList"
@layout MainLayout

@using Microsoft.EntityFrameworkCore
@using PayNowBlazor.Components.Layout
@using PayNowBlazor.Infrastructure
@using PayNowBlazor.Infrastructure.Entities

<RadzenDataGrid @ref="MaintenancesGrid" AllowFiltering="true" AllowColumnResize="true" AllowAlternatingRows="false" 
		FilterMode="FilterMode.Advanced" AllowSorting="true" PageSize="10" AllowPaging="true" ShowPagingSummary="true"
		Data="@Maintenances" ColumnWidth="100px" LogicalFilterOperator="LogicalFilterOperator.Or">
	<Columns>
		<RadzenDataGridColumn Property="@nameof(Maintenance.Id)" Title="ID" Frozen="true" TextAlign="TextAlign.Center"/>
		<RadzenDataGridColumn Property="@nameof(Maintenance.ScooterId)" Title="Scooter ID" TextAlign="TextAlign.Center"/>
		<RadzenDataGridColumn Property="@nameof(Maintenance.Description)" Title="Description" TextAlign="TextAlign.Center"/>
		<RadzenDataGridColumn Property="@nameof(Maintenance.StartDate)" Title="Start date" TextAlign="TextAlign.Center"/>
		<RadzenDataGridColumn Property="@nameof(Maintenance.EndDate)" Title="End date" TextAlign="TextAlign.Center"/>
	</Columns>
</RadzenDataGrid>

@code {

	[Inject]
	public DatabaseContext DbContext { get; set; } = null!;

	public RadzenDataGrid<Maintenance> MaintenancesGrid { get; set; }

	public DbSet<Maintenance> Maintenances => DbContext.Maintenances;
}